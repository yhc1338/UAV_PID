function f=fm(w,n)
b=1.116*10^-5;d=1.47*10^-7;%转速系数

if n=='x'|| n=='X'
    %X字控制模式
    f=b.*[ w(1)^2+w(2)^2+w(3)^2+w(4)^2
           w(1)^2-w(2)^2-w(3)^2+w(4)^2
          -w(1)^2-w(2)^2+w(3)^2+w(4)^2
          -w(1)^2+w(2)^2-w(3)^2+w(4)^2]';
elseif n=='+'
    %十字控制模式
    f=b.*[ w(1)^2+w(2)^2+w(3)^2+w(4)^2
                 -w(2)^2+       w(4)^2
          -w(1)^2+       w(3)^2
          -w(1)^2+w(2)^2-w(3)^2+w(4)^2]';
end
f(4)=f(4)/b*d;
f(5)=-w(1)+w(2)-w(3)+w(4);
end